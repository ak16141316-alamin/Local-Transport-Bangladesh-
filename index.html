<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cholo - All Over Bangladesh</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    
    <style>
        :root { --primary: #e51b23; --dark: #000; --card: #111; }
        body { background: var(--dark); color: #fff; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; margin: 0; }
        .container { width: 90%; max-width: 1200px; margin: 0 auto; padding: 20px; }
        
        .booking-box { background: var(--card); padding: 30px; border-radius: 20px; border: 1px solid #222; max-width: 500px; margin: 50px auto; }
        .input-group { margin-bottom: 15px; }
        label { display: block; margin-bottom: 8px; color: #888; font-size: 12px; font-weight: bold; }
        select, input { width: 100%; padding: 12px; border-radius: 8px; border: 1px solid #333; background: #222; color: #fff; outline: none; }
        
        .btn-main { background: var(--primary); color: #fff; border: none; padding: 15px; width: 100%; border-radius: 10px; font-weight: bold; cursor: pointer; font-size: 16px; }
        
        #map { height: 250px; width: 100%; border-radius: 15px; margin-bottom: 20px; border: 1px solid #444; }
        
        .modal-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.9); display: none; align-items: center; justify-content: center; z-index: 10000; backdrop-filter: blur(10px); }
        .modal-card { background: var(--card); width: 95%; max-width: 500px; padding: 20px; border-radius: 25px; border: 1px solid #333; }
        .fare-box { display: flex; justify-content: space-between; align-items: center; background: var(--primary); padding: 20px; border-radius: 15px; margin-top: 15px; }
    </style>
</head>
<body>

    <div class="container">
        <div class="booking-box">
            <h2 style="color: var(--primary); text-align: center; margin-bottom: 25px;">Cholo - Book Your Ride</h2>
            
            <div class="input-group">
                <label>SELECT DIVISION</label>
                <select id="division" onchange="updateDistricts()">
                    <option value="">Select Division</option>
                    <option value="Dhaka">Dhaka</option>
                    <option value="Chattogram">Chattogram</option>
                    <option value="Rajshahi">Rajshahi</option>
                    <option value="Khulna">Khulna</option>
                    <option value="Barishal">Barishal</option>
                    <option value="Sylhet">Sylhet</option>
                    <option value="Rangpur">Rangpur</option>
                    <option value="Mymensingh">Mymensingh</option>
                </select>
            </div>

            <div class="input-group">
                <label>SELECT DISTRICT</label>
                <select id="district">
                    <option value="">First Select Division</option>
                </select>
            </div>

            <div class="input-group">
                <label>SPECIFIC AREA (PICKUP)</label>
                <input type="text" id="pickup_area" placeholder="e.g. Bus Stand or Area Name">
            </div>

            <div class="input-group">
                <label>SPECIFIC AREA (DROP OFF)</label>
                <input type="text" id="dropoff_area" placeholder="e.g. Market or Area Name">
            </div>

            <button class="btn-main" onclick="processBooking()">CALCULATE FARE</button>
        </div>
    </div>

    <div id="fareModal" class="modal-overlay">
        <div class="modal-card">
            <div id="map"></div>
            <div style="background: #222; padding: 15px; border-radius: 12px;">
                <h4 id="resTitle" style="margin: 0 0 5px 0; color: var(--primary);"></h4>
                <p id="resPath" style="margin: 0; font-size: 13px; color: #ccc;"></p>
                <p id="resDist" style="margin: 10px 0 0 0; font-weight: bold;"></p>
            </div>
            <div class="fare-box">
                <span style="font-weight: bold;">Estimated Fare</span>
                <span id="resFare" style="font-size: 28px; font-weight: 900;">à§³ 0</span>
            </div>
            <button class="btn-main" style="margin-top: 15px; background: #333;" onclick="closeFare()">GO BACK</button>
        </div>
    </div>

    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

    <script>
        const districtData = {
            "Dhaka": ["Dhaka", "Gazipur", "Narayanganj", "Tangail", "Manikganj", "Munshiganj", "Narsingdi", "Faridpur", "Madaripur", "Gopalganj", "Rajbari", "Shariatpur", "Kishoreganj"],
            "Chattogram": ["Chattogram", "Cox's Bazar", "Cumilla", "Feni", "Brahmanbaria", "Noakhali", "Chandpur", "Lakshmipur", "Rangamati", "Khagrachari", "Bandarban"],
            "Rajshahi": ["Rajshahi", "Bogura", "Pabna", "Sirajganj", "Naogaon", "Chapai Nawabganj", "Natore", "Joypurhat"],
            "Khulna": ["Khulna", "Jashore", "Kushtia", "Satkhira", "Bagerhat", "Chuadanga", "Meherpur", "Jhenaidah", "Magura", "Narail"],
            "Barishal": ["Barishal", "Bhola", "Patuakhali", "Pirojpur", "Jhalokati", "Barguna"],
            "Sylhet": ["Sylhet", "Moulvibazar", "Habiganj", "Sunamganj"],
            "Rangpur": ["Rangpur", "Dinajpur", "Kurigram", "Gaibandha", "Nilphamari", "Panchagarh", "Thakurgaon", "Lalmonirhat"],
            "Mymensingh": ["Mymensingh", "Jamalpur", "Netrokona", "Sherpur"]
        };

        function updateDistricts() {
            const divSelect = document.getElementById('division');
            const distSelect = document.getElementById('district');
            const selectedDiv = divSelect.value;

            distSelect.innerHTML = '<option value="">Select District</option>';

            if (selectedDiv && districtData[selectedDiv]) {
                districtData[selectedDiv].forEach(dist => {
                    const option
